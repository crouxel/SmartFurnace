#!/bin/bash

# Store the current branch name
branch_name=$(git symbolic-ref --short HEAD)

echo "Running tests on branch: $branch_name"

# Run pytest with verbose output
python -m pytest tests/ -v

# Store the exit code
test_result=$?

if [ $test_result -eq 0 ]; then
    echo "✅ Tests passed!"
    exit 0
else
    echo "❌ Tests failed! Commit aborted."
    echo "Please fix the failing tests before committing."
    exit 1
fi 